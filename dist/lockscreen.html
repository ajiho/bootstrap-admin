<!doctype html>
<html lang="zh" data-overlayscrollbars-initialize>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <link rel="icon" href="img/favicon-32x32.png" sizes="32x32" type="image/png">
    <link rel="icon" href="img/favicon-16x16.png" sizes="16x16" type="image/png">
    <meta name="keywords" content="响应式后台模板,开源免费后台模板,bootstrap5后台管理系统模板">
    <meta name="description" content="bootstrap-admin基于bootstrap5的免费开源的响应式后台管理模板">
    <meta name="author" content="ajiho">
    <!--===================//公共css========================-->
    <link rel="stylesheet" href="lib/bootstrap-icons/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="lib/overlayscrollbars/styles/overlayscrollbars.min.css">
    <link rel="stylesheet" href="lib/nprogress/nprogress.css">
    <!--===================//公共css========================-->
    <!--bootstrap-admin样式文件-->
    <link rel="stylesheet" href="css/bootstrap-admin.min.css">
    <title>bootstrap-admin开源免费响应式后台管理系统模板</title>
</head>

<body class="bg-body-tertiary" data-overlayscrollbars-initialize>
    <div class="d-flex align-items-center justify-content-center">
        <div style="width: 400px;max-width: 100%;margin-top: 12vh;" class="p-2 d-flex flex-column align-items-center">
            <h2 class="">上午 11:11</h2>
            <p class="text-secondary">2023年 5月 20日 星期六</p>
            <i class="bi bi-person-circle bsa-fs-60 text-secondary"></i>
            <p>Administrator</p>
            <form id="form" style="width: 280px;max-width: 100%">
                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="请输入登录密码" aria-label="锁屏密码" name="lockpwd">
                    <button class="btn btn-outline-secondary" type="submit">
                        <i class="bi bi-box-arrow-in-right"></i>
                    </button>
                </div>
            </form>
            <p class="text-secondary my-2">系统锁屏,请输入密码登录!</p>
            <a href="login.html">退出重新登录</a>
        </div>
    </div>
    <!--===================//公共js========================-->
    <script src="lib/@popperjs/core/dist/umd/popper.min.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="lib/layer/dist/layer.js"></script>
    <script src="lib/nprogress/nprogress.js"></script>
    <script src="lib/overlayscrollbars/browser/overlayscrollbars.browser.es6.min.js"></script>
    <!--bootstrap-admin网络请求处理-->
    <script src="js/bootstrap-admin.http.js"></script>
    <!--bootstrap-admin核心js文件-->
    <script src="js/bootstrap-admin.core.js"></script>
    <!--===================公共js//========================-->
    <!--===================//页面单独所需的js========================-->

    <script src="lib/formvalidation/js/formValidation.js"></script>
    <script src="lib/formvalidation/js/framework/bootstrap.js"></script>
    <script src="lib/formvalidation/js/language/zh_CN.js"></script>
    <script>
        $(document).ready(function() {
            //前端表单验证
            $('#form').formValidation({
                fields: {
                    lockpwd: {
                        validators: {
                            notEmpty: true,
                        }
                    }
                }
            }).on('success.form.fv', function(e) {
                //阻止表单提交
                e.preventDefault();

                //得到表单对象
                const $form = $(e.target);
                //获取数据
                const data = $form.serialize();

                //发起ajax请求
                $.ajax({
                    method: 'post',
                    url: '/login',
                    //表单数据
                    data: data,
                }).then(response => {
                    if (response.code === 200) {
                        layer.msg('登录成功', {
                            end: function() { // 关闭时的回调函数

                                //直接跳转到首页
                                location.replace('index.html')
                            }
                        });
                    }
                });
            });


            //登录页面密码框的显示和隐藏
            $(document).on('click', '.bsa-toggle-input-trigger', function(event) {
                event.preventDefault();
                const $input = $('.bsa-toggle-input');
                const $trigger = $('.bsa-toggle-input-trigger');
                if ($input.attr('type') === 'text') {
                    $input.attr('type', 'password');
                    $trigger.html('<i class="bi bi-eye-slash"></i>')
                } else if ($input.attr('type') === 'password') {
                    $input.attr('type', 'text');
                    $trigger.html('<i class="bi bi-eye"></i>')
                }
            });
        })
    </script>
    <!--===================页面单独所需的//========================-->
    <!--=================//mockjs假数据模拟(生产环境中请直接删除下面两个引入的js)=====================-->
    <script src="lib/mockjs/dist/mock-min.js"></script>
    <script src="js/bootstrap-admin.mock.min.js"></script>
    <!--=================mockjs假数据模拟//=====================-->
</body>

</html>